schema: '2.0'
stages:
  create_db:
    cmd: python scripts/create_db.py --movie-records-file data/interim/merged_records.json
      --output-file data/processed/movie_database.json
    deps:
    - path: data/interim/merged_records.json
      md5: 4cd9b7c2255e3bd9b9de7f57e46f8fea
      size: 134120
    - path: scripts/create_db.py
      md5: 661f871778d2a7f92f444f80eb98681a
      size: 4409
    outs:
    - path: data/processed/movie_database.json
      md5: f5ca39cc5087305b6ade6cbc180de733
      size: 136703
  pull_omdb:
    cmd: python scripts/pull_omdb.py --airtable-file data/raw/airtable_out.json --output-file
      data/raw/omdb_out.json
    deps:
    - path: data/raw/airtable_out.json
      md5: b1aa8f1519cb0e3dc093ccf91eac661d
      size: 29198
    - path: scripts/pull_omdb.py
      md5: ca6f1d08278411bb707597f08feeae16
      size: 5492
    outs:
    - path: data/raw/omdb_out.json
      md5: 98402ac0d7d4c2645f29d96cb0f2c115
      size: 177021
  merge_airtable_omdb:
    cmd: python scripts/merge_airtable_omdb.py --airtable-file data/raw/airtable_out.json
      --omdb-file data/raw/omdb_out.json --output-file data/interim/merged_records.json
    deps:
    - path: data/raw/airtable_out.json
      md5: b1aa8f1519cb0e3dc093ccf91eac661d
      size: 29198
    - path: data/raw/omdb_out.json
      md5: 98402ac0d7d4c2645f29d96cb0f2c115
      size: 177021
    - path: scripts/merge_airtable_omdb.py
      md5: ae94a820f646ff49c96dbf9cbbdd0689
      size: 5642
    outs:
    - path: data/interim/merged_records.json
      md5: 4cd9b7c2255e3bd9b9de7f57e46f8fea
      size: 134120
