schema: '2.0'
stages:
  create_db:
    cmd: python scripts/create_db.py --movie-records-file data/interim/merged_records.json
      --output-file data/processed/movie_database.json
    deps:
    - path: data/interim/merged_records.json
      md5: 48073630226d6dca23a2e56a149b73c3
      size: 251878
    - path: scripts/create_db.py
      md5: 661f871778d2a7f92f444f80eb98681a
      size: 4409
    outs:
    - path: data/processed/movie_database.json
      md5: 623fb0c76223f4ab64d84eaa032920ae
      size: 256602
  pull_omdb:
    cmd: python scripts/pull_omdb.py --movie-file data/raw/notion_out.json --output-file
      data/raw/omdb_out.json
    deps:
    - path: data/raw/notion_out.json
      md5: 3d301af2e6a8f445400250894dd71733
      size: 60266
    - path: scripts/pull_omdb.py
      md5: 2a4747a0b5363d1c8006094af0404383
      size: 5418
    outs:
    - path: data/raw/omdb_out.json
      md5: e6ae67bebed3c653cd9b7bfd23d01123
      size: 331290
  merge_airtable_omdb:
    cmd: python scripts/merge_airtable_omdb.py --airtable-file data/raw/airtable_out.json
      --omdb-file data/raw/omdb_out.json --output-file data/interim/merged_records.json
    deps:
    - path: data/raw/airtable_out.json
      md5: 19dd47c86de7fbe76e3d375da6e369a0
      size: 41728
    - path: data/raw/omdb_out.json
      md5: 94374db2c07ffceb4791c5a0ade8a7ab
      size: 245394
    - path: scripts/merge_airtable_omdb.py
      md5: 4452ec2b70aaab4a831a99d2f6c61e46
      size: 5755
    outs:
    - path: data/interim/merged_records.json
      md5: 03557d46779b7c7b888c90c4de04f551
      size: 189002
  merge_notion_omdb:
    cmd: python scripts/merge_notion_omdb.py --movie-file data/raw/notion_out.json
      --omdb-file data/raw/omdb_out.json --output-file data/interim/merged_records.json
    deps:
    - path: data/raw/notion_out.json
      md5: 3d301af2e6a8f445400250894dd71733
      size: 60266
    - path: data/raw/omdb_out.json
      md5: e6ae67bebed3c653cd9b7bfd23d01123
      size: 331290
    - path: scripts/merge_notion_omdb.py
      md5: 86131136f8937305830b56bbdb51fe91
      size: 5731
    outs:
    - path: data/interim/merged_records.json
      md5: 48073630226d6dca23a2e56a149b73c3
      size: 251878
